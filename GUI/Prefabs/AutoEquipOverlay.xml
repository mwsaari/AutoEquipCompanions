<Prefab>
  <Constants>
  </Constants>
  <VisualDefinitions>
    <VisualDefinition Name="TopMenu"
                      TransitionDuration="0.2">
      <VisualState PositionYOffset="0"
                   State="Default" />
    </VisualDefinition>
  </VisualDefinitions>
  <Window>
    <Widget Id="AutoEquipOverlay"
            VisualDefinition="TopMenu"
            MarginTop="30"
            DoNotAcceptEvents="true"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            WidthSizePolicy="StretchToParent"
            HeightSizePolicy="StretchToParent">
      <Children>
        <ButtonWidget Id="RunAutoEquipButton"
                      Command.Click="RunAutoEquip"
                      Command.AlternateClick="ToggleSettings"
                      IsSelected="@SettingsToggle"
                      SuggestedWidth="50"
                      SuggestedHeight="50"
                      MarginTop="15"
                      MarginRight="250"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Brush="Inventory.AutoEquipCompanions.Button"
                      DoNotPassEventsToChildren="true"
                      WidthSizePolicy="Fixed"
                      HeightSizePolicy="Fixed">
          <Children>
            <BrushWidget SuggestedWidth="40"
                         SuggestedHeight="40"
                         MarginTop="-5"
                         VerticalAlignment="Center"
                         HorizontalAlignment="Center"
                         WidthSizePolicy="Fixed"
                         HeightSizePolicy="Fixed"
                         Brush="Inventory.AutoEquipCompanions.RecruitPrisoners"
                         DoNotAcceptEvents="true"/>
            <HintWidget DataSource="{SettingsHint}"
                        Command.HoverBegin="ExecuteBeginHint"
                        Command.HoverEnd="ExecuteEndHint"/>
          </Children>
        </ButtonWidget>
        <Widget Id="Settings"
                IsVisible="@SettingsToggle"
                DoNotAcceptEvents="true"
                WidthSizePolicy="StretchToParent"
                HeightSizePolicy="StretchToParent">
          <Children>
            <ButtonWidget Id="SettingsWindowButton"
                          SuggestedWidth="50"
                          SuggestedHeight="50"
                          MarginTop="15"
                          MarginRight="140"/>
            <!-- <Widget Id="PresetDropdownWidget"
                    MarginTop="55"
                    MarginLeft="410"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top">
              <Children>
                <AnimatedDropDownWidget Id="DropdownParent"
                                        DataSource="{PresetOptions}"
                                        CurrentSelectedIndex="@SelectedIndex"
                                        SuggestedWidth="120"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                  <Children>
                    <Widget Id="DropdownButtonContainer"
                            WidthSizePolicy="StretchToParent"
                            HeightSizePolicy="Fixed"
                            SuggestedHeight="30"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                      <Children>
                        <ButtonWidget Id="DropdownButton"
                                      WidthSizePolicy="StretchToParent"
                                      HeightSizePolicy="StretchToParent"
                                      DoNotPassEventsToChildren="true"
                                      Brush="Quest.Sorting.Dropdown.Center.Small">
                          <Children>
                            <ScrollingRichTextWidget Id="SelectedTextWidget"
                                                     WidthSizePolicy="StretchToParent"
                                                     HeightSizePolicy="StretchToParent"
                                                     HorizontalAlignment="Center"
                                                     VerticalAlignment="Center"
                                                     PositionYOffset="1"
                                                     Brush="SPOptions.Dropdown.Center.Text"
                                                     IsAutoScrolling="false"
                                                     ScrollOnHoverWidget="..\..\DropdownButton"/>
                          </Children>
                        </ButtonWidget>
                      </Children>
                    </Widget>

                    <Widget Id="DropdownClipWidget"
                            WidthSizePolicy="CoverChildren"
                            HeightSizePolicy="Fixed"
                            ClipContents="true"
                            WidgetToCopyHeightFrom="DropdownContainerWidget\ScrollablePanel">
                      <Children>
                        <BrushWidget Id="DropdownContainerWidget"
                                     WidthSizePolicy="Fixed"
                                     HeightSizePolicy="Fixed"
                                     VerticalAlignment="Bottom"
                                     SuggestedWidth="120"
                                     SuggestedHeight="380"
                                     HorizontalAlignment="Center"
                                     Brush="SPOptions.Dropdown.Extension" >
                          <Children>
                            <ScrollablePanel Id="ScrollablePanel"
                                             WidthSizePolicy="StretchToParent"
                                             HeightSizePolicy="CoverChildren"
                                             AutoHideScrollBars="true"
                                             ClipRect="ClipRect"
                                             MarginBottom="20"
                                             VerticalAlignment="Bottom"
                                             InnerPanel="ClipRect\PrimaryUsageSelectorList"
                                             MaxHeight="355"
                                             VerticalScrollbar="..\VerticalScrollbar">
                              <Children>
                                <Widget Id="ClipRect"
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="CoverChildren"
                                        ClipContents="true"
                                        MaxHeight="355">
                                  <Children>

                                    <ListPanel Id="PrimaryUsageSelectorList"
                                               DataSource="{ItemList}"
                                               WidthSizePolicy="StretchToParent"
                                               HeightSizePolicy="CoverChildren"
                                               HorizontalAlignment="Center"
                                               StackLayout.LayoutMethod="VerticalBottomToTop">
                                      <ItemTemplate>
                                        <ButtonWidget Id="DropdownItemButton"
                                                      DoNotUseCustomScale="true"
                                                      DoNotPassEventsToChildren="true"
                                                      WidthSizePolicy="StretchToParent"
                                                      HeightSizePolicy="Fixed"
                                                      SuggestedHeight="29"
                                                      MarginLeft="10"
                                                      MarginRight="10"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Bottom"
                                                      ButtonType="Radio"
                                                      UpdateChildrenStates="true"
                                                      IsEnabled="@CanBeSelected"
                                                      Brush="Standard.DropdownItem.SoundBrush">
                                          <Children>
                                            <ImageWidget WidthSizePolicy="StretchToParent"
                                                         HeightSizePolicy="StretchToParent"
                                                         MarginLeft="5"
                                                         MarginRight="5"
                                                         Brush="Standard.DropdownItem" />
                                            <ScrollingRichTextWidget WidthSizePolicy="StretchToParent"
                                                                     HeightSizePolicy="StretchToParent"
                                                                     HorizontalAlignment="Center"
                                                                     MarginLeft="7"
                                                                     MarginRight="7"
                                                                     VerticalAlignment="Center"
                                                                     Brush="SPOptions.Dropdown.Item.Text"
                                                                     Text="@StringItem"
                                                                     IsAutoScrolling="false"
                                                                     ScrollOnHoverWidget="..\..\DropdownItemButton" />
                                          </Children>
                                        </ButtonWidget>
                                      </ItemTemplate>
                                    </ListPanel>
                                  </Children>
                                </Widget>
                              </Children>
                            </ScrollablePanel>
                            <ScrollbarWidget Id="VerticalScrollbar"
                                             WidthSizePolicy="Fixed"
                                             HeightSizePolicy="StretchToParent"
                                             SuggestedWidth="8"
                                             HorizontalAlignment="Right"
                                             VerticalAlignment="Center"
                                             MarginTop="15"
                                             MarginBottom="15"
                                             AlignmentAxis="Vertical"
                                             Handle="VerticalScrollbarHandle"
                                             IsVisible="false"
                                             MaxValue="100"
                                             MinValue="0">
                              <Children>
                                <Widget WidthSizePolicy="Fixed"
                                        HeightSizePolicy="StretchToParent"
                                        SuggestedWidth="4"
                                        HorizontalAlignment="Center"
                                        Sprite="BlankWhiteSquare_9"
                                        AlphaFactor="0.2"
                                        Color="#5A4033FF" />
                                <ImageWidget Id="VerticalScrollbarHandle"
                                             WidthSizePolicy="Fixed"
                                             HeightSizePolicy="Fixed"
                                             SuggestedWidth="8"
                                             SuggestedHeight="10"
                                             HorizontalAlignment="Center"
                                             Brush="FaceGen.Scrollbar.Handle" />
                              </Children>
                            </ScrollbarWidget>
                          </Children>
                        </BrushWidget>
                      </Children>
                    </Widget>
                  </Children>
                </AnimatedDropDownWidget>
              </Children>
            </Widget>-->

            <ButtonWidget Id="CharacterToggleButton"
                          Command.Click="ToggleCharacter"
                          IsSelected="@CharacterToggle"
                          SuggestedWidth="150"
                          SuggestedHeight="45"
                          MarginTop="700"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Top"
                          DoNotPassEventsToChildren="true"
                          Brush="Header.Tab.Center"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed">
              <Children>
                <TextWidget Text="Enable AEC"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Brush="Party.Text.UpgradeAmount"
                            Brush.FontSize="24"
                            Brush.TextHorizontalAlignment="Center"
                            Brush.TextVerticalAlignment="Center"
                            WidthSizePolicy="CoverChildren"
                            HeightSizePolicy="Fixed" />
                <HintWidget DataSource="{CharacterToggleHint}"
                            Command.HoverBegin="ExecuteBeginHint"
                            Command.HoverEnd="ExecuteEndHint"/>
              </Children>
            </ButtonWidget>

            <Widget Id="EquipmentToggles"
                    IsVisible="@CharacterToggle"
                    DoNotAcceptEvents="true"
                    WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="StretchToParent">
              <Children>
                <!-- Armor -->
                <AutoEquipWidget Command.Click="ToggleHead"
                                 IsSelected="@HeadToggle"
                                 MarginTop="208"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <AutoEquipWidget Command.Click="ToggleCape"
                                 IsSelected="@CapeToggle"
                                 MarginTop="308"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <AutoEquipWidget Command.Click="ToggleBody"
                                 IsSelected="@BodyToggle"
                                 MarginTop="408"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <AutoEquipWidget Command.Click="ToggleGloves"
                                 IsSelected="@GlovesToggle"
                                 MarginTop="508"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <AutoEquipWidget Command.Click="ToggleLeg"
                                 IsSelected="@LegToggle"
                                 MarginTop="608"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <!-- Horse -->
                <AutoEquipWidget Command.Click="ToggleHorse"
                                 IsSelected="@HorseToggle"
                                 MarginTop="758"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <AutoEquipWidget Command.Click="ToggleHarness"
                                 IsSelected="@HarnessToggle"
                                 MarginTop="858"
                                 MarginLeft="715"
                                 HorizontalAlignment="Left"/>
                <!-- Weapons -->
                <AutoEquipWidget Command.Click="ToggleWeapon0"
                                 IsSelected="@Weapon0Toggle"
                                 MarginTop="208"
                                 MarginRight="710"
                                 HorizontalAlignment="Right"/>
                <AutoEquipWidget Command.Click="ToggleWeapon1"
                                 IsSelected="@Weapon1Toggle"
                                 MarginTop="308"
                                 MarginRight="710"
                                 HorizontalAlignment="Right"/>
                <AutoEquipWidget Command.Click="ToggleWeapon2"
                                 IsSelected="@Weapon2Toggle"
                                 MarginTop="408"
                                 MarginRight="710"
                                 HorizontalAlignment="Right"/>
                <AutoEquipWidget Command.Click="ToggleWeapon3"
                                 IsSelected="@Weapon3Toggle"
                                 MarginTop="508"
                                 MarginRight="710"
                                 HorizontalAlignment="Right"/>
              </Children>
            </Widget>
          </Children>
        </Widget>
      </Children>
    </Widget>
  </Window>
</Prefab>